import { ExchangeButton } from './exchange_button';

interface Exchange {
    id: string;
    name: string;
    connected: boolean;
    icon: preact.ComponentChildren;
}

const EXCHANGE_LOGOS: Record<string, preact.ComponentChildren> = {
    binance: (
        <svg class="h-6" viewBox="0 0 248.6 50" fill="currentColor">
            <path d="M11.3,25l-5.6,5.6L0,25l5.7-5.7L11.3,25z M25,11.3l9.7,9.7l5.7-5.7L25,0L9.7,15.3l5.7,5.7L25,11.3z M44.3,19.3L38.7,25l5.7,5.7L50,25L44.3,19.3z M25,38.7L15.3,29l-5.7,5.7L25,50l15.3-15.3L34.7,29L25,38.7z M25,30.6l5.7-5.7L25,19.3L19.3,25L25,30.6z M84.6,31.2c0-3.8-2-5.6-5.1-6.8c2-1.1,3.6-2.8,3.6-5.9v-0.1c0-4.3-3.5-7.1-9-7.1H61.3v27.4h13C80.5,38.7,84.6,36.2,84.6,31.2z M77,19.5c0,2.1-1.7,2.9-4.3,2.9h-5.6v-5.8h6C75.6,16.6,77,17.6,77,19.5z M78.6,30.4c0,2-1.6,3-4.2,3h-7.2v-6h7C77.2,27.4,78.6,28.5,78.6,30.4z M97.2,38.7V11.3h-6.1v27.4H97.2z M129.6,38.7V11.3h-6v16.9l-12.8-16.9h-5.6v27.4h6V21.3l13.3,17.4H129.6z M163,38.7l-11.8-27.6h-5.6l-11.8,27.6h6.2l2.5-6.2h11.6l2.5,6.2H163z M152,27.2h-7.3l3.7-8.9L152,27.2z M191.8,38.7V11.3h-6v16.9L173,11.3h-5.6v27.4h6V21.3l13.3,17.4H191.8z M222.9,34.3l-3.9-3.9c-2.2,2-4.1,3.2-7.2,3.2c-4.7,0-8-3.9-8-8.6v-0.1c0-4.7,3.3-8.5,8-8.5c2.7,0,4.9,1.2,7,3.1l3.9-4.4c-2.5-2.5-5.6-4.2-10.8-4.2c-8.4,0-14.3,6.4-14.3,14.2V25c0,7.9,6,14.1,14.1,14.1C216.9,39.2,220.1,37.3,222.9,34.3z M248.6,38.7v-5.4h-14.9v-5.8h12.9v-5.4h-12.9v-5.6h14.7v-5.4h-20.7v27.4H248.6z" />
        </svg>
    ),
    hyperliquid: (
        <svg class="h-6" viewBox="0 0 370 58" fill="currentColor">
            <path d="M65.3 24.3991C65.3 45.8991 52.1 52.7991 45.1 46.6991C39.4 41.6991 37.7 31.0991 29.1 29.9991C18.2 28.6991 17.2 43.1991 10 43.1991C1.6 43.1991 0 31.0991 0 24.7991C0 18.3991 1.8 9.69911 8.9 9.69911C17.2 9.69911 17.7 22.1991 28.1 21.4991C38.4 20.7991 38.6 7.79912 45.4 2.29912C51.3 -2.60088 65.3 2.59912 65.3 24.3991Z" />
            <path d="M96.2998 44.3991V2.6991H100.3V20.7991H124.7V2.6991H128.6V44.4991H124.7V24.1991H100.3V44.4991H96.2998V44.3991Z" />
            <path d="M139 57.0991L144.4 43.6991L132.7 15.5991H136.8L144.5 34.5991C144.9 35.7991 145.6 37.2991 146.4 39.1991C146.5 38.8991 146.6 38.5991 146.8 38.2991C146.9 37.9991 147 37.6991 147.2 37.3991C147.4 36.8991 147.7 36.3991 147.8 35.8991C147.9 35.3991 148.1 34.9991 148.3 34.4991L155.5 15.4991H159.4L143 56.9991H139V57.0991Z" />
            <path d="M163.2 57.0991V15.5991H166.9V17.3991C166.9 17.7991 166.9 18.0991 166.9 18.4991C166.9 18.8991 166.9 19.2991 166.9 19.6991C166.9 19.8991 166.9 20.0991 166.9 20.2991C166.9 20.4991 166.9 20.6991 166.9 20.8991C167.9 19.0991 169.2 17.5991 171.1 16.4991C172.9 15.3991 174.9 14.7991 177.2 14.7991C179.9 14.7991 182.2 15.4991 184.2 16.7991C186.2 18.0991 187.7 19.8991 188.8 22.1991C189.9 24.4991 190.4 27.0991 190.4 29.9991C190.4 32.9991 189.9 35.5991 188.8 37.8991C187.7 40.1991 186.1 41.9991 184.2 43.3991C182.2 44.6991 179.9 45.3991 177.4 45.3991C175.2 45.3991 173.3 44.8991 171.4 43.7991C169.6 42.7991 168.2 41.1991 167.1 39.1991C167.1 39.4991 167.1 39.7991 167.1 40.1991C167.1 40.4991 167.1 40.7991 167.1 41.0991C167.1 41.2991 167.1 41.5991 167.1 41.7991C167.1 41.9991 167.1 42.1991 167.1 42.3991V57.1991H163.2V57.0991ZM176.6 42.2991C178.6 42.2991 180.3 41.7991 181.8 40.6991C183.3 39.5991 184.4 38.1991 185.3 36.2991C186.1 34.3991 186.5 32.2991 186.5 29.8991C186.5 27.4991 186.1 25.3991 185.3 23.5991C184.5 21.7991 183.3 20.2991 181.8 19.2991C180.3 18.2991 178.6 17.7991 176.6 17.7991C174.7 17.7991 173 18.2991 171.5 19.2991C170 20.2991 168.8 21.6991 168 23.5991C167.2 25.3991 166.7 27.5991 166.7 29.9991C166.7 32.3991 167.1 34.5991 168 36.3991C168.8 38.2991 170 39.6991 171.5 40.7991C173 41.8991 174.7 42.2991 176.6 42.2991Z" />
            <path d="M208.1 45.2991C205.4 45.2991 203 44.6991 200.9 43.4991C198.8 42.2991 197.2 40.4991 196.1 38.1991C195 35.8991 194.4 33.0991 194.4 29.8991C194.4 26.9991 195 24.3991 196.2 22.0991C197.4 19.7991 199 17.9991 201 16.6991C203 15.3991 205.3 14.6991 207.8 14.6991C210.5 14.6991 212.8 15.2991 214.8 16.5991C216.7 17.7991 218.2 19.5991 219.2 21.7991C220.2 24.0991 220.7 26.6991 220.7 29.6991V30.4991H198.1C198.1 32.9991 198.5 35.0991 199.4 36.8991C200.3 38.6991 201.4 39.9991 202.9 40.8991C204.4 41.7991 206.2 42.2991 208.1 42.2991C210.4 42.2991 212.3 41.7991 213.9 40.6991C215.4 39.5991 216.4 37.8991 216.7 35.6991H220.4C220.1 37.4991 219.5 39.1991 218.4 40.5991C217.4 41.9991 216 43.1991 214.2 43.9991C212.6 44.7991 210.5 45.2991 208.1 45.2991ZM216.7 27.6991C216.7 24.6991 215.9 22.2991 214.3 20.4991C212.7 18.6991 210.6 17.7991 207.8 17.7991C205.1 17.7991 202.9 18.6991 201.2 20.5991C199.5 22.4991 198.5 24.7991 198.2 27.6991H216.7Z" />
            <path d="M226.4 44.3991V15.5991H230.1V17.4991C230.1 17.7991 230.1 18.0991 230.1 18.3991C230.1 18.6991 230.1 18.9991 230.1 19.2991C230.1 19.5991 230.1 19.9991 230.1 20.2991C230.1 20.5991 230.1 20.9991 230.1 21.3991C230.9 19.4991 232.1 17.8991 233.9 16.6991C235.6 15.4991 237.6 14.7991 239.9 14.7991C240.5 14.7991 241 14.7991 241.5 14.8991V18.4991C240.8 18.3991 240.2 18.3991 239.7 18.3991C237.8 18.3991 236.1 18.7991 234.7 19.6991C233.3 20.5991 232.2 21.7991 231.4 23.3991C230.6 24.9991 230.2 26.8991 230.2 28.9991V44.4991H226.4V44.3991Z" />
            <path d="M250.7 43.5991L250.5 44.3991H238.8L239 43.5991C242.2 43.2991 243.6 42.2991 244.1 39.8991L250.7 8.79913C251.4 5.59913 250.4 5.09913 247 5.79913L247.2 4.99912L254.4 2.59912H255.2L247.3 39.9991C246.7 42.2991 247.6 43.2991 250.7 43.5991Z" />
            <path d="M264 43.5991L263.8 44.3991H252L252.2 43.5991C255.4 43.2991 256.8 42.2991 257.3 39.8991L261.3 20.8991C262 17.6991 261.1 17.1991 257.6 17.8991L257.8 17.0991L265 14.6991H265.8L260.5 39.8991C260 42.2991 260.9 43.2991 264 43.5991ZM266 4.1991C267.6 4.1991 268.6 5.3991 268.4 6.9991C268.2 8.5991 266.8 9.6991 265.3 9.6991C263.7 9.6991 262.6 8.4991 262.8 6.9991C262.9 5.3991 264.3 4.1991 266 4.1991Z" />
            <path d="M284.2 52.7991L287.4 37.8991C285.4 42.2991 281.1 45.2991 276.7 45.2991C269.5 45.2991 266.1 38.4991 268.3 28.3991C269.8 20.9991 276.4 14.6991 284.2 14.6991C287.8 14.6991 290.8 16.2991 292 18.6991L294.7 14.6991H295.5L287.3 52.7991C286.7 55.3991 288.8 55.8991 290.9 56.2991L290.7 57.0991H277.2L277.4 56.2991C281.4 55.8991 283.7 55.3991 284.2 52.7991ZM278.7 43.1991C282.4 43.1991 286.1 39.9991 287.9 36.1991L290.3 24.7991C290.9 20.6991 289 16.3991 283.3 16.3991C277.9 16.3991 273.3 21.2991 271.8 28.3991C270 37.0991 272.6 43.1991 278.7 43.1991Z" />
            <path d="M335.8 43.5991L335.6 44.3991H323.8L324 43.5991C327.2 43.2991 328.6 42.2991 329.1 39.8991L333.1 20.8991C333.8 17.6991 332.9 17.1991 329.4 17.8991L329.6 17.0991L336.8 14.6991H337.6L332.3 39.8991C331.8 42.2991 332.7 43.2991 335.8 43.5991ZM337.8 4.1991C339.4 4.1991 340.4 5.3991 340.2 6.9991C340 8.5991 338.6 9.6991 337.1 9.6991C335.5 9.6991 334.4 8.4991 334.6 6.9991C334.8 5.3991 336.2 4.1991 337.8 4.1991Z" />
            <path d="M319.1 39.7991L321.8 27.0991L324.4 14.6991H323.6L316.4 17.0991L316.2 17.8991C319.6 17.1991 320.5 17.6991 319.9 20.8991L316.5 37.0991C312.7 40.5991 310.1 42.6991 306.8 42.6991C302.8 42.6991 300.7 39.9991 301.7 35.2991L306.1 14.6991H305.3L298.1 17.0991L297.9 17.8991C301.3 17.1991 302.3 17.6991 301.6 20.8991L298.5 35.6991C297.3 41.1991 300.1 45.1991 305.2 45.1991C308.6 45.1991 311.6 43.2991 316.3 38.2991L316.1 39.2991L315.1 44.1991H322.6L322.8 43.2991C319.5 43.1991 318.6 42.2991 319.1 39.7991Z" />
            <path d="M367.2 13.5991L369.5 2.49911H368.7L361.5 4.89912L361.3 5.69911C364.7 4.99911 365.6 5.49911 365 8.69911L363 18.1991C361.7 16.0991 358.9 14.6991 355.7 14.6991C347.8 14.6991 341.3 20.9991 339.6 28.8991C337.6 38.4991 340.9 45.2991 348.1 45.2991C352.6 45.2991 356.9 42.1991 358.9 37.7991L358.4 40.2991L357.5 44.3991L365 44.2991L365.2 43.4991C362.1 43.1991 361.2 42.1991 361.7 39.7991L367.2 13.5991ZM359.2 36.0991C357.5 39.9991 353.7 43.1991 350 43.1991C343.9 43.1991 341.3 37.0991 343 28.8991C344.6 21.1991 349.3 16.3991 354.7 16.3991C360.5 16.3991 362.4 20.9991 361.6 25.0991L361.3 26.3991L359.2 36.0991Z" />
        </svg>
    ),
    bybit: (
        <svg class="h-6" viewBox="95 125 375 140" fill="currentColor">
            <path d="m356.58476344 139.99979h18.59585742v92.51170101h-18.59585742z" />
            <g fill-rule="nonzero" transform="matrix(4.13793 0 0 4.13793 100 127.586)">
                <path d="m9.634 31.998h-9.634v-22.357h9.247c4.494 0 7.112 2.449 7.112 6.28 0 2.48-1.682 4.083-2.846 4.617 1.39.627 3.168 2.04 3.168 5.024 0 4.175-2.94 6.436-7.047 6.436zm-.743-18.462h-4.397v5.149h4.397c1.907 0 2.974-1.036 2.974-2.575 0-1.538-1.067-2.574-2.974-2.574zm.291 9.074h-4.688v5.496h4.688c2.037 0 3.005-1.256 3.005-2.764 0-1.507-.97-2.732-3.005-2.732z" />
                <path d="m30.388 22.829v9.169h-4.462v-9.169l-6.919-13.188h4.882l4.3 9.012 4.235-9.012h4.881z" />
                <path d="m50.046 31.998h-9.634v-22.357h9.246c4.494 0 7.113 2.449 7.113 6.28 0 2.48-1.682 4.083-2.846 4.617 1.389.627 3.168 2.04 3.168 5.024 0 4.175-2.941 6.436-7.047 6.436zm-.743-18.462h-4.397v5.149h4.397c1.907 0 2.974-1.036 2.974-2.575 0-1.538-1.067-2.574-2.974-2.574zm.29 9.074h-4.687v5.496h4.687c2.038 0 3.006-1.256 3.006-2.764 0-1.507-.968-2.732-3.006-2.732z" />
                <path d="m80.986 13.536v18.464h-4.494v-18.464h-6.013v-3.895h16.521v3.895z" />
            </g>
        </svg>
    ),
    blofin: (
        <svg class="h-6" viewBox="63 30 272 70" fill="currentColor">
            <path d="M96.3398 33C104.46 33 110.62 34.4002 114.86 37.2002C115.9 37.8801 116.78 38.6406 117.58 39.4805C119.98 42.0804 121.18 45.3605 121.18 49.3604V49.5195L90.5 72.5996V59.8799L104.54 49.3203C104.26 48.4004 103.74 47.5999 102.98 46.96C101.701 45.88 99.9401 45.3203 97.7002 45.3203H81.7402V82.5996H98.7002C101.54 82.5996 103.7 82.0798 105.1 81C106.5 79.92 107.22 77.9601 107.22 76.2002C107.22 74.4402 106.66 73 105.62 71.96L115.54 64.5596C116.1 64.7596 116.66 65.0403 117.18 65.3203C119.38 66.5603 121.06 68.1602 122.14 70.1602L122.18 70.2002C123.26 72.2002 123.82 71.6404 123.82 77.3604C123.82 83.0802 121.42 87.4805 116.7 90.4805C111.94 93.4804 105.1 95 96.0996 95H65.3799V33H96.3398Z" />
            <path fill-rule="evenodd" clip-rule="evenodd" d="M177.94 51.1201C194.14 51.1203 204.9 59.8801 204.9 72.9199C204.9 85.9598 194.06 94.7596 177.94 94.7598C161.74 94.7598 150.9 86.0799 150.9 72.9199C150.9 59.76 161.74 51.1201 177.94 51.1201ZM177.94 62.5596C170.26 62.5596 165.46 66.52 165.46 72.96C165.46 79.4 170.18 83.3604 177.94 83.3604C185.62 83.3602 190.34 79.3998 190.34 72.96C190.34 66.5201 185.62 62.5597 177.94 62.5596Z" />
            <path d="M276.98 94.2803H262.66V51.6396H276.98V94.2803Z" />
            <path d="M284.7 94.2803L284.66 94.2402H284.7V94.2803Z" />
            <path d="M145.1 94.2402H130.78V36.4004H145.1V94.2402Z" />
            <path d="M257.14 49.2803H226.38V59.6797H252.34V71.7598H226.38V94.2402H211.18V36.4004H257.14V49.2803Z" />
            <path d="M314.22 51.1201C327.26 51.1201 334.62 58.8799 334.62 72.6797V94.2402H320.3V73.9199C320.3 66.4 316.9 62.5195 310.22 62.5195C303.54 62.5196 298.98 66.3202 298.98 73.0801V94.2402H284.7V51.6396H297.78L298.78 57.0801C302.42 53.0402 307.38 51.1202 314.22 51.1201Z" />
            <path d="M269.78 33.0801C274.14 33.0802 277.54 36.2405 277.54 40.4404C277.54 44.6401 274.14 47.7997 269.78 47.7998C265.38 47.7998 262.021 44.6802 262.021 40.4404C262.021 36.2004 265.42 33.0801 269.78 33.0801Z" />
        </svg>
    ),
};

const EXCHANGE_ICONS: Record<string, preact.ComponentChildren> = {
    binance: (
        <svg class="w-4 h-4" viewBox="0 0 50 50" fill="currentColor">
            <path d="M11.3,25l-5.6,5.6L0,25l5.7-5.7L11.3,25z M25,11.3l9.7,9.7l5.7-5.7L25,0L9.7,15.3l5.7,5.7L25,11.3z M44.3,19.3L38.7,25l5.7,5.7L50,25L44.3,19.3z M25,38.7L15.3,29l-5.7,5.7L25,50l15.3-15.3L34.7,29L25,38.7z M25,30.6l5.7-5.7L25,19.3L19.3,25L25,30.6z" />
        </svg>
    ),
    hyperliquid: (
        <svg class="w-4 h-4" viewBox="0 0 65.3 58" fill="currentColor">
            <path d="M65.3 24.3991C65.3 45.8991 52.1 52.7991 45.1 46.6991C39.4 41.6991 37.7 31.0991 29.1 29.9991C18.2 28.6991 17.2 43.1991 10 43.1991C1.6 43.1991 0 31.0991 0 24.7991C0 18.3991 1.8 9.69911 8.9 9.69911C17.2 9.69911 17.7 22.1991 28.1 21.4991C38.4 20.7991 38.6 7.79912 45.4 2.29912C51.3 -2.60088 65.3 2.59912 65.3 24.3991Z" />
        </svg>
    ),
    bybit: (
        <svg class="w-4 h-4" viewBox="95 125 375 140" fill="currentColor">
            <path d="m356.58476344 139.99979h18.59585742v92.51170101h-18.59585742z" />
            <g fill-rule="nonzero" transform="matrix(4.13793 0 0 4.13793 100 127.586)">
                <path d="m9.634 31.998h-9.634v-22.357h9.247c4.494 0 7.112 2.449 7.112 6.28 0 2.48-1.682 4.083-2.846 4.617 1.39.627 3.168 2.04 3.168 5.024 0 4.175-2.94 6.436-7.047 6.436zm-.743-18.462h-4.397v5.149h4.397c1.907 0 2.974-1.036 2.974-2.575 0-1.538-1.067-2.574-2.974-2.574zm.291 9.074h-4.688v5.496h4.688c2.037 0 3.005-1.256 3.005-2.764 0-1.507-.97-2.732-3.005-2.732z" />
                <path d="m30.388 22.829v9.169h-4.462v-9.169l-6.919-13.188h4.882l4.3 9.012 4.235-9.012h4.881z" />
                <path d="m50.046 31.998h-9.634v-22.357h9.246c4.494 0 7.113 2.449 7.113 6.28 0 2.48-1.682 4.083-2.846 4.617 1.389.627 3.168 2.04 3.168 5.024 0 4.175-2.941 6.436-7.047 6.436zm-.743-18.462h-4.397v5.149h4.397c1.907 0 2.974-1.036 2.974-2.575 0-1.538-1.067-2.574-2.974-2.574zm.29 9.074h-4.687v5.496h4.687c2.038 0 3.006-1.256 3.006-2.764 0-1.507-.968-2.732-3.006-2.732z" />
                <path d="m80.986 13.536v18.464h-4.494v-18.464h-6.013v-3.895h16.521v3.895z" />
            </g>
        </svg>
    ),
    blofin: (
        <svg class="w-4 h-4" viewBox="55 23 80 82" fill="currentColor">
            <path d="M96.3398 33C104.46 33 110.62 34.4002 114.86 37.2002C115.9 37.8801 116.78 38.6406 117.58 39.4805C119.98 42.0804 121.18 45.3605 121.18 49.3604V49.5195L90.5 72.5996V59.8799L104.54 49.3203C104.26 48.4004 103.74 47.5999 102.98 46.96C101.701 45.88 99.9401 45.3203 97.7002 45.3203H81.7402V82.5996H98.7002C101.54 82.5996 103.7 82.0798 105.1 81C106.5 79.92 107.22 77.9601 107.22 76.2002C107.22 74.4402 106.66 73 105.62 71.96L115.54 64.5596C116.1 64.7596 116.66 65.0403 117.18 65.3203C119.38 66.5603 121.06 68.1602 122.14 70.1602L122.18 70.2002C123.26 72.2002 123.82 71.6404 123.82 77.3604C123.82 83.0802 121.42 87.4805 116.7 90.4805C111.94 93.4804 105.1 95 96.0996 95H65.3799V33H96.3398Z" />
        </svg>
    ),
};

interface ExchangesProps {
    exchanges: Exchange[];
    on_exchange_click?: (exchange_id: string) => void;
}

export function Exchanges({ exchanges, on_exchange_click }: ExchangesProps) {
    return (
        <div class="flex items-center gap-1 px-1.5 h-7">
            {exchanges.map((exchange) => (
                <ExchangeButton
                    key={exchange.id}
                    connected={exchange.connected}
                    on_click={() => on_exchange_click?.(exchange.id)}
                >
                    {exchange.icon}
                </ExchangeButton>
            ))}
        </div>
    );
}

export function get_exchange_icon(exchange_id: string): preact.ComponentChildren {
    return EXCHANGE_ICONS[exchange_id] ?? null;
}

export function get_exchange_logo(exchange_id: string): preact.ComponentChildren {
    return EXCHANGE_LOGOS[exchange_id] ?? null;
}
